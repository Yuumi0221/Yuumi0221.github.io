function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/core-js.BANx2Ljo.js","assets/chunks/dayjs.DPscOGnl.js","assets/bilibili-bangumi.entry.nguAGEZY.js","assets/framework.Cgou1yFl.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{bO as L}from"./framework.Cgou1yFl.js";function ft(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(L(()=>import("./dom.BaNnATbG.js"),__vite__mapDeps([])));var s=function(){try{var n=new URL("b","http://a");return n.pathname="c%20d",n.href==="http://a/c%20d"&&n.searchParams}catch{return!1}};(typeof Object.assign!="function"||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!s()||typeof WeakMap>"u")&&t.push(L(()=>import("./core-js.BANx2Ljo.js").then(n=>n.c),__vite__mapDeps([0,1])))}return Promise.all(t)}const dt="bilibili-bangumi-component";let T,I,J=!1,H=!1;const m=(t,e="")=>()=>{},ut=(t,e)=>()=>{},pt="{visibility:hidden}.hydrated{visibility:inherit}",K="slot-fb{display:contents}slot-fb[hidden]{display:none}",C={},gt=t=>t!=null,z=t=>(t=typeof t,t==="object"||t==="function");function Q(t){var e,s,n;return(n=(s=(e=t.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||s===void 0?void 0:s.getAttribute("content"))!==null&&n!==void 0?n:void 0}const Z=(t,e,...s)=>{let n=null,l=null,i=!1,o=!1;const r=[],c=f=>{for(let a=0;a<f.length;a++)n=f[a],Array.isArray(n)?c(n):n!=null&&typeof n!="boolean"&&((i=typeof t!="function"&&!z(n))&&(n=String(n)),i&&o?r[r.length-1].$text$+=n:r.push(i?x(null,n):n),o=i)};if(c(s),e){e.key&&(l=e.key);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(a=>f[a]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,r,vt);const $=x(t,null);return $.$attrs$=e,r.length>0&&($.$children$=r),$.$key$=l,$},x=(t,e)=>{const s={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return s.$attrs$=null,s.$key$=null,s},yt={},ht=t=>t&&t.$tag$===yt,vt={forEach:(t,e)=>t.map(W).forEach(e),map:(t,e)=>t.map(W).map(e).map(mt)},W=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),mt=t=>{if(typeof t.vtag=="function"){const s=Object.assign({},t.vattrs);return t.vkey&&(s.key=t.vkey),t.vname&&(s.name=t.vname),Z(t.vtag,s,...t.vchildren||[])}const e=x(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Et=(t,e)=>t!=null&&!z(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,St=(t,e,s)=>{const n=g.ce(e,s);return t.dispatchEvent(n),n},D=new WeakMap,bt=(t,e,s)=>{let n=O.get(t);Gt&&s?(n=n||new CSSStyleSheet,typeof n=="string"?n=e:n.replaceSync(e)):n=e,O.set(t,n)},kt=(t,e,s)=>{var n;const l=N(e),i=O.get(l);if(t=t.nodeType===11?t:v,i)if(typeof i=="string"){t=t.head||t;let o=D.get(t),r;if(o||D.set(t,o=new Set),!o.has(l)){{r=v.createElement("style"),r.innerHTML=i;const c=(n=g.$nonce$)!==null&&n!==void 0?n:Q(v);c!=null&&r.setAttribute("nonce",c),t.insertBefore(r,t.querySelector("link"))}e.$flags$&4&&(r.innerHTML+=K),o&&o.add(l)}}else t.adoptedStyleSheets.includes(i)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,i]);return l},_t=t=>{const e=t.$cmpMeta$,s=t.$hostElement$,n=e.$flags$,l=m("attachStyles",e.$tagName$),i=kt(s.shadowRoot?s.shadowRoot:s.getRootNode(),e);n&10&&(s["s-sc"]=i,s.classList.add(i+"-h")),l()},N=(t,e)=>"sc-"+t.$tagName$,F=(t,e,s,n,l,i)=>{if(s!==n){let o=X(t,e),r=e.toLowerCase();if(e==="class"){const c=t.classList,$=w(s),f=w(n);c.remove(...$.filter(a=>a&&!f.includes(a))),c.add(...f.filter(a=>a&&!$.includes(a)))}else if(e==="style"){for(const c in s)(!n||n[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in n)(!s||n[c]!==s[c])&&(c.includes("-")?t.style.setProperty(c,n[c]):t.style[c]=n[c])}else if(e!=="key")if(e==="ref")n&&n(t);else if(!o&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):X(j,r)?e=r.slice(2):e=r[2]+e.slice(3),s||n){const c=e.endsWith(V);e=e.replace(Tt,""),s&&g.rel(t,e,s,c),n&&g.ael(t,e,n,c)}}else{const c=z(n);if(o||c&&n!==null)try{if(t.tagName.includes("-"))t[e]=n;else{const $=n??"";e==="list"?o=!1:(s==null||t[e]!=$)&&(t[e]=$)}}catch{}n==null||n===!1?(n!==!1||t.getAttribute(e)==="")&&t.removeAttribute(e):(!o||i&4||l)&&!c&&(n=n===!0?"":n,t.setAttribute(e,n))}}},Pt=/\s/,w=t=>t?t.split(Pt):[],V="Capture",Tt=new RegExp(V+"$"),tt=(t,e,s,n)=>{const l=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||C,o=e.$attrs$||C;for(n in i)n in o||F(l,n,i[n],void 0,s,e.$flags$);for(n in o)F(l,n,i[n],o[n],s,e.$flags$)},A=(t,e,s,n)=>{const l=e.$children$[s];let i=0,o,r;if(l.$text$!==null)o=l.$elm$=v.createTextNode(l.$text$);else if(o=l.$elm$=v.createElement(l.$tag$),tt(null,l,J),gt(T)&&o["s-si"]!==T&&o.classList.add(o["s-si"]=T),l.$children$)for(i=0;i<l.$children$.length;++i)r=A(t,l,i),r&&o.appendChild(r);return o["s-hn"]=I,o},et=(t,e,s,n,l,i)=>{let o=t,r;for(o.shadowRoot&&o.tagName===I&&(o=o.shadowRoot);l<=i;++l)n[l]&&(r=A(null,s,l),r&&(n[l].$elm$=r,o.insertBefore(r,e)))},nt=(t,e,s)=>{for(let n=e;n<=s;++n){const l=t[n];if(l){const i=l.$elm$;st(l),i&&i.remove()}}},Lt=(t,e,s,n,l=!1)=>{let i=0,o=0,r=0,c=0,$=e.length-1,f=e[0],a=e[$],p=n.length-1,d=n[0],u=n[p],y,h;for(;i<=$&&o<=p;)if(f==null)f=e[++i];else if(a==null)a=e[--$];else if(d==null)d=n[++o];else if(u==null)u=n[--p];else if(P(f,d,l))E(f,d,l),f=e[++i],d=n[++o];else if(P(a,u,l))E(a,u,l),a=e[--$],u=n[--p];else if(P(f,u,l))E(f,u,l),t.insertBefore(f.$elm$,a.$elm$.nextSibling),f=e[++i],u=n[--p];else if(P(a,d,l))E(a,d,l),t.insertBefore(a.$elm$,f.$elm$),a=e[--$],d=n[++o];else{for(r=-1,c=i;c<=$;++c)if(e[c]&&e[c].$key$!==null&&e[c].$key$===d.$key$){r=c;break}r>=0?(h=e[r],h.$tag$!==d.$tag$?y=A(e&&e[o],s,r):(E(h,d,l),e[r]=void 0,y=h.$elm$),d=n[++o]):(y=A(e&&e[o],s,o),d=n[++o]),y&&f.$elm$.parentNode.insertBefore(y,f.$elm$)}i>$?et(t,n[p+1]==null?null:n[p+1].$elm$,s,n,o,p):o>p&&nt(e,i,$)},P=(t,e,s=!1)=>t.$tag$===e.$tag$?s?!0:t.$key$===e.$key$:!1,E=(t,e,s=!1)=>{const n=e.$elm$=t.$elm$,l=t.$children$,i=e.$children$,o=e.$text$;o===null?(tt(t,e,J),l!==null&&i!==null?Lt(n,l,e,i,s):i!==null?(t.$text$!==null&&(n.textContent=""),et(n,null,e,i,0,i.length-1)):l!==null&&nt(l,0,l.length-1)):t.$text$!==o&&(n.data=o)},st=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(st)},xt=(t,e,s=!1)=>{const n=t.$hostElement$,l=t.$vnode$||x(null,null),i=ht(e)?e:Z(null,null,e);if(I=n.tagName,s&&i.$attrs$)for(const o of Object.keys(i.$attrs$))n.hasAttribute(o)&&!["key","ref","style","class"].includes(o)&&(i.$attrs$[o]=n[o]);i.$tag$=null,i.$flags$|=4,t.$vnode$=i,i.$elm$=l.$elm$=n.shadowRoot||n,T=n["s-sc"],E(l,i,s)},lt=(t,e)=>{e&&!t.$onRenderResolve$&&e["s-p"]&&e["s-p"].push(new Promise(s=>t.$onRenderResolve$=s))},B=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return lt(t,t.$ancestorComponent$),Kt(()=>At(t,e))},At=(t,e)=>{const s=m("scheduleUpdate",t.$cmpMeta$.$tagName$),n=t.$lazyInstance$;let l;return e&&(l=it(n,"componentWillLoad")),s(),Ot(l,()=>Mt(t,n,e))},Ot=(t,e)=>jt(t)?t.then(e):e(),jt=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",Mt=async(t,e,s)=>{var n;const l=t.$hostElement$,i=m("update",t.$cmpMeta$.$tagName$),o=l["s-rc"];s&&_t(t);const r=m("render",t.$cmpMeta$.$tagName$);Ht(t,e,l,s),o&&(o.map(c=>c()),l["s-rc"]=void 0),r(),i();{const c=(n=l["s-p"])!==null&&n!==void 0?n:[],$=()=>Ut(t);c.length===0?$():(Promise.all(c).then($),t.$flags$|=4,c.length=0)}},Ht=(t,e,s,n)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,xt(t,e,n)}catch(l){S(l,t.$hostElement$)}return null},Ut=t=>{const e=t.$cmpMeta$.$tagName$,s=t.$hostElement$,n=m("postUpdate",e),l=t.$lazyInstance$,i=t.$ancestorComponent$;t.$flags$&64?n():(t.$flags$|=64,ct(s),it(l,"componentDidLoad"),n(),t.$onReadyResolve$(s),i||ot()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&q(()=>B(t,!1)),t.$flags$&=-517},ot=t=>{ct(v.documentElement),q(()=>St(j,"appload",{detail:{namespace:dt}}))},it=(t,e,s)=>{if(t&&t[e])try{return t[e](s)}catch(n){S(n)}},ct=t=>t.classList.add("hydrated"),It=(t,e)=>b(t).$instanceValues$.get(e),zt=(t,e,s,n)=>{const l=b(t),i=l.$instanceValues$.get(e),o=l.$flags$,r=l.$lazyInstance$;s=Et(s,n.$members$[e][0]);const c=Number.isNaN(i)&&Number.isNaN(s),$=s!==i&&!c;(!(o&8)||i===void 0)&&$&&(l.$instanceValues$.set(e,s),r&&(o&18)===2&&B(l,!1))},rt=(t,e,s)=>{var n;const l=t.prototype;if(e.$members$){const i=Object.entries(e.$members$);if(i.map(([o,[r]])=>{(r&31||s&2&&r&32)&&Object.defineProperty(l,o,{get(){return It(this,o)},set(c){zt(this,o,c,e)},configurable:!0,enumerable:!0})}),s&1){const o=new Map;l.attributeChangedCallback=function(r,c,$){g.jmp(()=>{var f;const a=o.get(r);if(this.hasOwnProperty(a))$=this[a],delete this[a];else{if(l.hasOwnProperty(a)&&typeof this[a]=="number"&&this[a]==$)return;if(a==null){const p=b(this),d=p==null?void 0:p.$flags$;if(d&&!(d&8)&&d&128&&$!==c){const u=p.$lazyInstance$,y=(f=e.$watchers$)===null||f===void 0?void 0:f[r];y==null||y.forEach(h=>{u[h]!=null&&u[h].call(u,$,c,r)})}return}}this[a]=$===null&&typeof this[a]=="boolean"?!1:$})},t.observedAttributes=Array.from(new Set([...Object.keys((n=e.$watchers$)!==null&&n!==void 0?n:{}),...i.filter(([r,c])=>c[0]&15).map(([r,c])=>{const $=c[1]||r;return o.set($,r),$})]))}}return t},Bt=async(t,e,s,n)=>{let l;if(!(e.$flags$&32)){e.$flags$|=32;{if(l=Xt(s),l.then){const c=ut();l=await l,c()}l.isProxied||(rt(l,s,2),l.isProxied=!0);const r=m("createInstance",s.$tagName$);e.$flags$|=8;try{new l(e)}catch(c){S(c)}e.$flags$&=-9,r()}if(l.style){let r=l.style;const c=N(s);if(!O.has(c)){const $=m("registerStyles",s.$tagName$);bt(c,r,!!(s.$flags$&1)),$()}}}const i=e.$ancestorComponent$,o=()=>B(e,!0);i&&i["s-rc"]?i["s-rc"].push(o):o()},Rt=t=>{},qt=t=>{if(!(g.$flags$&1)){const e=b(t),s=e.$cmpMeta$,n=m("connectedCallback",s.$tagName$);if(e.$flags$&1)e!=null&&e.$lazyInstance$||e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Rt());else{e.$flags$|=1;{let l=t;for(;l=l.parentNode||l.host;)if(l["s-p"]){lt(e,e.$ancestorComponent$=l);break}}s.$members$&&Object.entries(s.$members$).map(([l,[i]])=>{if(i&31&&t.hasOwnProperty(l)){const o=t[l];delete t[l],t[l]=o}}),Bt(t,e,s)}n()}},Ct=t=>{},Wt=async t=>{if(!(g.$flags$&1)){const e=b(t);e!=null&&e.$lazyInstance$||e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Ct())}},Dt=(t,e={})=>{var s;const n=m(),l=[],i=e.exclude||[],o=j.customElements,r=v.head,c=r.querySelector("meta[charset]"),$=v.createElement("style"),f=[];let a,p=!0;Object.assign(g,e),g.$resourcesUrl$=new URL(e.resourcesUrl||"./",v.baseURI).href;let d=!1;if(t.map(u=>{u[1].map(y=>{const h={$flags$:y[0],$tagName$:y[1],$members$:y[2],$listeners$:y[3]};h.$flags$&4&&(d=!0),h.$members$=y[2];const k=h.$tagName$,at=class extends HTMLElement{constructor(_){super(_),_=this,wt(_,h),h.$flags$&1&&_.attachShadow({mode:"open"})}connectedCallback(){a&&(clearTimeout(a),a=null),p?f.push(this):g.jmp(()=>qt(this))}disconnectedCallback(){g.jmp(()=>Wt(this))}componentOnReady(){return b(this).$onReadyPromise$}};h.$lazyBundleId$=u[0],!i.includes(k)&&!o.get(k)&&(l.push(k),o.define(k,rt(at,h,1)))})}),d&&($.innerHTML+=K),$.innerHTML+=l+pt,$.innerHTML.length){$.setAttribute("data-styles","");const u=(s=g.$nonce$)!==null&&s!==void 0?s:Q(v);u!=null&&$.setAttribute("nonce",u),r.insertBefore($,c?c.nextSibling:r.firstChild)}p=!1,f.length?f.map(u=>u.connectedCallback()):g.jmp(()=>a=setTimeout(ot,30)),n()},Ft=t=>g.$nonce$=t,R=new WeakMap,b=t=>R.get(t),Nt=(t,e)=>R.set(e.$lazyInstance$=t,e),wt=(t,e)=>{const s={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return s.$onReadyPromise$=new Promise(n=>s.$onReadyResolve$=n),t["s-p"]=[],t["s-rc"]=[],R.set(t,s)},X=(t,e)=>e in t,S=(t,e)=>(0,console.error)(t,e),M=new Map,Xt=(t,e,s)=>{const n=t.$tagName$.replace(/-/g,"_"),l=t.$lazyBundleId$,i=M.get(l);if(i)return i[n];{const o=r=>(M.set(l,r),r[n]);switch(l){case"bilibili-bangumi":return L(()=>import("./bilibili-bangumi.entry.nguAGEZY.js"),__vite__mapDeps([2,3])).then(o,S)}}return L(()=>import(`./${l}.entry.js`),__vite__mapDeps([])).then(o=>(M.set(l,o),o[n]),S)},O=new Map,j=typeof window<"u"?window:{},v=j.document||{head:{}},g={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,s,n)=>t.addEventListener(e,s,n),rel:(t,e,s,n)=>t.removeEventListener(e,s,n),ce:(t,e)=>new CustomEvent(t,e)},Yt=t=>Promise.resolve(t),Gt=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Y=[],$t=[],Jt=(t,e)=>s=>{t.push(s),H||(H=!0,g.$flags$&4?q(U):g.raf(U))},G=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(s){S(s)}t.length=0},U=()=>{G(Y),G($t),(H=Y.length>0)&&g.raf(U)},q=t=>Yt().then(t),Kt=Jt($t),Qt=(t,e)=>{if(!(typeof window>"u"))return Dt([["bilibili-bangumi",[[1,"bilibili-bangumi",{api:[1],bilibiliUid:[1,"bilibili-uid"],bgmUid:[1,"bgm-uid"],bilibiliEnabled:[4,"bilibili-enabled"],bgmEnabled:[4,"bgm-enabled"],pageSize:[2,"page-size"],customEnabled:[4,"custom-enabled"],customLabel:[1,"custom-label"],loading:[32],error:[32],pageNumber:[32],responseData:[32],activePlatform:[32],activeSubject:[32],collectionLabels:[32],activeCollection:[32],containerRef:[32],containerState:[32]}]]]],e)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();const Vt=Object.freeze(Object.defineProperty({__proto__:null,applyPolyfills:ft,defineCustomElements:Qt,setNonce:Ft},Symbol.toStringTag,{value:"Module"}));export{Z as h,Vt as i,Nt as r};
